{"ast":null,"code":"import _toConsumableArray from\"/Users/gaoqiantong/Desktop/comp431/hw/final-frontend-Moongram/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"/Users/gaoqiantong/Desktop/comp431/hw/final-frontend-Moongram/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/gaoqiantong/Desktop/comp431/hw/final-frontend-Moongram/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/gaoqiantong/Desktop/comp431/hw/final-frontend-Moongram/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{useLocation,useNavigate}from'react-router-dom';import MainHeader from'../components/MainHeader';import Posts from'../components/Posts';import UserInfoGrid from'../components/UserInfoGrid';import PostGrid from'../components/PostGrid';import axios from'axios';import Pagination from'../components/Pagination';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MainPage=function MainPage(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),userPosts=_useState2[0],setUserPosts=_useState2[1];var navigate=useNavigate();var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),searchQuery=_useState4[0],setSearchQuery=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),newFollowerName=_useState6[0],setNewFollowerName=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),followedUsers=_useState8[0],setFollowedUsers=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),errorMessage=_useState10[0],setErrorMessage=_useState10[1];var _useState11=useState(1),_useState12=_slicedToArray(_useState11,2),currentPage=_useState12[0],setCurrentPage=_useState12[1];var _useState13=useState(10),_useState14=_slicedToArray(_useState13,1),postsPerPage=_useState14[0];var _useState15=useState([]),_useState16=_slicedToArray(_useState15,2),currentPosts=_useState16[0],setCurrentPosts=_useState16[1];var location=useLocation();var userData=location.state.userData;useEffect(function(){var indexOfLastPost=currentPage*postsPerPage;var indexOfFirstPost=indexOfLastPost-postsPerPage;setCurrentPosts(userPosts.slice(indexOfFirstPost,indexOfLastPost));},[currentPage,userPosts]);useEffect(function(){fetchUserPosts();fetchFollowers();},[userData.username]);var paginate=function paginate(pageNumber){return setCurrentPage(pageNumber);};var fetchUserPosts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,articles,sortedPosts;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"https://lily-social-app-7e0ca4e6d236.herokuapp.com/articles\",{withCredentials:true});case 3:response=_context.sent;articles=response.data.articles;if(!(articles.length===0)){_context.next=10;break;}setUserPosts([]);return _context.abrupt(\"return\",[]);case 10:sortedPosts=articles.sort(function(a,b){return new Date(b.date)-new Date(a.date);});setUserPosts(sortedPosts);case 12:_context.next=17;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](0);console.error('Error fetching posts:',_context.t0);case 17:case\"end\":return _context.stop();}},_callee,null,[[0,14]]);}));return function fetchUserPosts(){return _ref.apply(this,arguments);};}();var fetchFollowers=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var response,usernames,profiles;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.get(\"https://lily-social-app-7e0ca4e6d236.herokuapp.com/following/\".concat(userData.username),{withCredentials:true});case 3:response=_context2.sent;usernames=response.data.following;if(!(usernames.length===0)){_context2.next=8;break;}setFollowedUsers([]);return _context2.abrupt(\"return\",[]);case 8:_context2.next=10;return Promise.all(usernames.map(function(username){return axios.get(\"https://lily-social-app-7e0ca4e6d236.herokuapp.com/profile/\".concat(username),{withCredentials:true}).then(function(res){return res.data;}).catch(function(err){console.error(\"Error fetching profile for \".concat(username,\":\"),err);return null;});}));case 10:profiles=_context2.sent;setFollowedUsers(profiles);return _context2.abrupt(\"return\",profiles);case 15:_context2.prev=15;_context2.t0=_context2[\"catch\"](0);console.error('Error fetching followers:',_context2.t0);case 18:case\"end\":return _context2.stop();}},_callee2,null,[[0,15]]);}));return function fetchFollowers(){return _ref2.apply(this,arguments);};}();var handleAddFollower=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var response;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:if(!(newFollowerName==userData.username)){_context3.next=4;break;}setErrorMessage(\"You cannot follow yourself.\");setNewFollowerName('');return _context3.abrupt(\"return\");case 4:_context3.prev=4;_context3.next=7;return axios.put(\"https://lily-social-app-7e0ca4e6d236.herokuapp.com/following/\".concat(newFollowerName),{},{withCredentials:true});case 7:response=_context3.sent;if(response.data.username==userData.username){setErrorMessage(\"\");setNewFollowerName('');fetchFollowers();fetchUserPosts();}else{setNewFollowerName('');setErrorMessage(\"user not found.\");}_context3.next=15;break;case 11:_context3.prev=11;_context3.t0=_context3[\"catch\"](4);setNewFollowerName('');setErrorMessage(_context3.t0.response.data.message);case 15:;case 16:case\"end\":return _context3.stop();}},_callee3,null,[[4,11]]);}));return function handleAddFollower(){return _ref3.apply(this,arguments);};}();var handleUnfollow=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(username){var response;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return axios.delete(\"https://lily-social-app-7e0ca4e6d236.herokuapp.com/following/\".concat(username),{withCredentials:true});case 3:response=_context4.sent;if(response.data.username===userData.username){fetchFollowers();fetchUserPosts();}_context4.next=10;break;case 7:_context4.prev=7;_context4.t0=_context4[\"catch\"](0);console.error('Error unfollowing user:',_context4.t0);case 10:case\"end\":return _context4.stop();}},_callee4,null,[[0,7]]);}));return function handleUnfollow(_x){return _ref4.apply(this,arguments);};}();var handleSearch=function handleSearch(e){setSearchQuery(e.target.value);};var handleComment=function handleComment(postId){};var handleEditPost=function handleEditPost(postId){};var handleEditComment=function handleEditComment(postId){};var handlePostSubmit=function handlePostSubmit(newPost){setUserPosts([newPost].concat(_toConsumableArray(userPosts)));};var handleStatusUpdate=function handleStatusUpdate(newStatus){};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(MainHeader,{navigate:navigate,userData:userData}),/*#__PURE__*/_jsxs(\"div\",{className:\"main-content\",children:[/*#__PURE__*/_jsx(UserInfoGrid,{user:userData,onUpdateStatus:handleStatusUpdate}),/*#__PURE__*/_jsx(PostGrid,{user:userData,onPostSubmit:handlePostSubmit})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"follow-user-h2\",children:\"Followed Users\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"follow-user-ul\",children:followedUsers.map(function(user){return/*#__PURE__*/_jsxs(\"li\",{className:\"follow-user-li\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"follow-user-img\",src:user.avatar,alt:\"Avatar\"}),/*#__PURE__*/_jsx(\"p\",{children:user.username}),/*#__PURE__*/_jsx(\"p\",{children:user.headline}),/*#__PURE__*/_jsx(\"button\",{\"data-testid\":\"unfollow-\".concat(user.username),onClick:function onClick(){return handleUnfollow(user.username);},children:\"Unfollow\"})]},user.id);})}),/*#__PURE__*/_jsx(\"input\",{className:\"se\",type:\"text\",\"data-testid\":\"add-follower-name\",placeholder:\"Enter name\",value:newFollowerName,onChange:function onChange(e){return setNewFollowerName(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{\"data-testid\":\"add-follower\",onClick:handleAddFollower,children:\"Add Follower\"}),errorMessage&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:errorMessage})]}),/*#__PURE__*/_jsx(\"div\",{className:\"search-bar\",children:/*#__PURE__*/_jsx(\"input\",{\"data-testid\":\"search-test\",type:\"text\",placeholder:\"Search by author or text...\",value:searchQuery,onChange:handleSearch})}),/*#__PURE__*/_jsx(\"div\",{\"data-testid\":\"user-posts\",children:currentPosts.map(function(post){return/*#__PURE__*/_jsx(Posts,{post:post,loggedInUser:userData.username},post.pid);})}),/*#__PURE__*/_jsx(Pagination,{postsPerPage:postsPerPage,totalPosts:userPosts.length,paginate:paginate})]});};export default MainPage;","map":{"version":3,"names":["React","useState","useEffect","useLocation","useNavigate","MainHeader","Posts","UserInfoGrid","PostGrid","axios","Pagination","jsx","_jsx","jsxs","_jsxs","MainPage","_useState","_useState2","_slicedToArray","userPosts","setUserPosts","navigate","_useState3","_useState4","searchQuery","setSearchQuery","_useState5","_useState6","newFollowerName","setNewFollowerName","_useState7","_useState8","followedUsers","setFollowedUsers","_useState9","_useState10","errorMessage","setErrorMessage","_useState11","_useState12","currentPage","setCurrentPage","_useState13","_useState14","postsPerPage","_useState15","_useState16","currentPosts","setCurrentPosts","location","userData","state","indexOfLastPost","indexOfFirstPost","slice","fetchUserPosts","fetchFollowers","username","paginate","pageNumber","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","articles","sortedPosts","wrap","_callee$","_context","prev","next","get","withCredentials","sent","data","length","abrupt","sort","a","b","Date","date","t0","console","error","stop","apply","arguments","_ref2","_callee2","usernames","profiles","_callee2$","_context2","concat","following","Promise","all","map","then","res","catch","err","handleAddFollower","_ref3","_callee3","_callee3$","_context3","put","message","handleUnfollow","_ref4","_callee4","_callee4$","_context4","delete","_x","handleSearch","e","target","value","handleComment","postId","handleEditPost","handleEditComment","handlePostSubmit","newPost","_toConsumableArray","handleStatusUpdate","newStatus","children","className","user","onUpdateStatus","onPostSubmit","src","avatar","alt","headline","onClick","id","type","placeholder","onChange","style","color","post","loggedInUser","pid","totalPosts"],"sources":["/Users/gaoqiantong/Desktop/comp431/hw/final-frontend-Moongram/src/pages/Main.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport MainHeader from '../components/MainHeader';\nimport Posts from '../components/Posts';\nimport UserInfoGrid from '../components/UserInfoGrid';\nimport PostGrid from '../components/PostGrid';\nimport axios from 'axios';\nimport Pagination from '../components/Pagination';\nconst MainPage = () => {\n  const [userPosts, setUserPosts] = useState([]);\n  const navigate = useNavigate();\n  const [searchQuery, setSearchQuery] = useState('');\n  const [newFollowerName, setNewFollowerName] = useState('');\n  const [followedUsers, setFollowedUsers] = useState([]);\n  const [errorMessage, setErrorMessage] = useState('');\n  const [currentPage, setCurrentPage] = useState(1);\n  const [postsPerPage] = useState(10);\n  const [currentPosts, setCurrentPosts] = useState([]);\n  const location = useLocation();\n  const userData = location.state.userData;\n  useEffect(() => {\n    const indexOfLastPost = currentPage * postsPerPage;\n    const indexOfFirstPost = indexOfLastPost - postsPerPage;\n    setCurrentPosts(userPosts.slice(indexOfFirstPost, indexOfLastPost));\n  }, [currentPage, userPosts]);\n  \n\n useEffect(() => {\n  fetchUserPosts();\n  fetchFollowers();\n}, [userData.username]);\n const paginate = pageNumber => setCurrentPage(pageNumber);\n\n \n const fetchUserPosts = async () => {\n    try {\n      const response = await axios.get(`https://lily-social-app-7e0ca4e6d236.herokuapp.com/articles`, { withCredentials: true });\n      const articles = response.data.articles;\n      if (articles.length === 0) {\n        setUserPosts([]);\n        return ([])\n      } else {\n      const sortedPosts = articles.sort((a, b) => new Date(b.date) - new Date(a.date));\n      setUserPosts(sortedPosts);\n    }\n } catch (error) {\n      console.error('Error fetching posts:', error);\n  }\n};\n\n const fetchFollowers = async () => {\n  try {\n      const response = await axios.get(`https://lily-social-app-7e0ca4e6d236.herokuapp.com/following/${userData.username}`, { withCredentials: true });\n      const usernames = response.data.following;\n      if (usernames.length === 0) {\n        setFollowedUsers([]);\n        return ([])\n      }\n      const profiles = await Promise.all(\n        usernames.map(username =>\n            axios.get(`https://lily-social-app-7e0ca4e6d236.herokuapp.com/profile/${username}`, { withCredentials: true })\n                .then(res => res.data)\n                .catch(err => {\n                    console.error(`Error fetching profile for ${username}:`, err);\n                    return null; \n                })\n        )\n    );\n      setFollowedUsers(profiles);\n      return profiles;\n  } catch (error) {\n      console.error('Error fetching followers:', error);\n  }\n};\n const handleAddFollower = async () => {\n  if (newFollowerName == userData.username) {\n    setErrorMessage(\"You cannot follow yourself.\");  \n    setNewFollowerName('');\n    return;\n  }\n  try {\n    const response = await axios.put(`https://lily-social-app-7e0ca4e6d236.herokuapp.com/following/${newFollowerName}`, {}, { withCredentials: true });\n    if (response.data.username == userData.username) {\n      setErrorMessage(\"\");  \n      setNewFollowerName('');\n      fetchFollowers();\n      fetchUserPosts();\n    } else {\n      setNewFollowerName('');\n      setErrorMessage(\"user not found.\");\n    }\n  } catch (error) {\n    setNewFollowerName('');\n    setErrorMessage(error.response.data.message);\n  };}\n\n  const handleUnfollow = async username => {\n    try {\n      const response = await axios.delete(`https://lily-social-app-7e0ca4e6d236.herokuapp.com/following/${username}`, { withCredentials: true });\n      if (response.data.username === userData.username) {\n         fetchFollowers();\n         fetchUserPosts();\n      }\n    } catch (error) {\n      console.error('Error unfollowing user:', error);\n    }\n  };\n  \n\n  const handleSearch = (e) => {\n    setSearchQuery(e.target.value)\n  };\n\n  const handleComment = postId => {\n  };\n\n  const handleEditPost = postId => {\n  \n  };\n  const handleEditComment = (postId) => {\n  }\n\n  const handlePostSubmit = newPost => {\n    setUserPosts([newPost, ...userPosts]);\n  };\n\n  const handleStatusUpdate = newStatus => {\n\n  };\n\n  return (\n    <div>\n      <MainHeader navigate={navigate} userData={userData} />\n      <div className=\"main-content\">\n        <UserInfoGrid user={userData} onUpdateStatus={handleStatusUpdate} />\n        <PostGrid user={userData} onPostSubmit={handlePostSubmit} />\n      </div>\n      <div className=\"sidebar\">\n        <h2 className = \"follow-user-h2\">Followed Users</h2>\n        <ul className=\"follow-user-ul\">\n          {followedUsers.map(user => (\n            <li className='follow-user-li'key={user.id}>\n              <img className='follow-user-img' src={user.avatar} alt=\"Avatar\" />\n              <p>{user.username}</p>\n              <p>{user.headline}</p>\n\n              <button data-testid={`unfollow-${user.username}`} onClick={() => handleUnfollow(user.username)}>Unfollow</button>\n            </li>\n          ))}\n        </ul>\n        <input className='se'\n          type=\"text\"\n          data-testid='add-follower-name'\n          placeholder=\"Enter name\"\n          value={newFollowerName}\n          onChange={e => setNewFollowerName(e.target.value)}\n        />\n        <button data-testid='add-follower' onClick={handleAddFollower}>Add Follower</button>\n        {errorMessage && <p style={{ color: 'red' }}>{errorMessage}</p>}\n\n      </div>\n      <div className=\"search-bar\">\n        <input data-testid='search-test'\n          type=\"text\"\n          placeholder=\"Search by author or text...\"\n          value={searchQuery}\n          onChange={handleSearch}\n        />\n      </div>\n\n    <div data-testid='user-posts'>\n    {currentPosts.map(post => (\n      <Posts key={post.pid} post={post} loggedInUser={userData.username} />\n    ))}\n  </div>\n  <Pagination\n    postsPerPage={postsPerPage}\n    totalPosts={userPosts.length}\n    paginate={paginate}\n  />\n   \n    </div>\n  );\n};\n\nexport default MainPage;\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}