{"ast":null,"code":"// import React, { useEffect, useState } from 'react';\n// import axios from 'axios';\n// const Posts = ({ post}) => {\n//   const [showComments, setShowComments] = useState(true); \n//   // const defaultComments = [\n//   //   \"Good job!\",\n//   //   \"I totally agree with this.\",\n//   //   \"I disagree.\"  ];\n//   const [comments, setComments] = useState([]); \n//   const [showCommentBox, setShowCommentBox] = useState(false);\n//   const [commentContent, setCommentContent] = useState('');\n\n//   const formatDate = (isoString) => {\n//     const date = new Date(isoString);\n//     return date.toLocaleString(); // Or any other format you prefer\n//   };\n//   const fetchComments = async () => {\n//     try {\n//       const response = await axios.get(`http://localhost:3000/articles/${post.pid}`, { withCredentials: true });\n//       const comments = response.data.articles[0].comment;\n\n//       setComments(comments);\n//     } catch (error) {\n//       console.error('Error fetching comments:', error);\n//     }\n//   }\n//   const onComment = (pid) => {\n//       }\n//     useEffect(() => {\n//     fetchComments();\n//   }, [post.pid]);\n//   return (\n//     <div className=\"post-container\">\n//       {/* <div className=\"post-title\">{post.title}</div> */}\n//       <div className=\"post-author\">Author: {post.author}</div>\n//       <div className=\"post-timestamp\">Posted on: {formatDate(post.date)}</div>\n//       <div className=\"post-body\">{post.text}</div>\n//       <div className=\"post-image\">\n//         {post.image && <img src={post.image} alt=\"Post\"/>}\n//       </div>\n//       {showComments && (\n//         <div className=\"comments-section\">\n//           <h4>Comments</h4>\n//           <ul>\n//             {comments && comments.map((comment) => (\n//               <li key={comment.id}>{comment.author}: {comment.message}</li>\n//             ))}\n//           </ul>\n//         </div>\n//       )}\n//       <div className=\"post-buttons\">\n//         <button className=\"post-button\" onClick={() => onComment(post.pid)}>Leave a Comment</button>\n//         <button className=\"post-button\" onClick={() => onEditPost(post.pid)}>Edit Post</button>\n//         <button className=\"post-button\" onClick={() => onEditComment(post.pid)}>Edit My Comment</button>\n//         <button className=\"post-button\" onClick={() => setShowComments(!showComments)}>\n//           {showComments ? \"Hide Comments\" : \"Show Comments\"}\n//         </button>\n//       </div>\n\n//     </div>\n//   );\n// };\n\n// export default Posts;","map":{"version":3,"names":[],"sources":["/Users/gaoqiantong/Desktop/comp431/hw/final-frontend-Moongram/src/components/Posts.js"],"sourcesContent":["// import React, { useEffect, useState } from 'react';\n// import axios from 'axios';\n// const Posts = ({ post}) => {\n//   const [showComments, setShowComments] = useState(true); \n//   // const defaultComments = [\n//   //   \"Good job!\",\n//   //   \"I totally agree with this.\",\n//   //   \"I disagree.\"  ];\n//   const [comments, setComments] = useState([]); \n//   const [showCommentBox, setShowCommentBox] = useState(false);\n//   const [commentContent, setCommentContent] = useState('');\n  \n//   const formatDate = (isoString) => {\n//     const date = new Date(isoString);\n//     return date.toLocaleString(); // Or any other format you prefer\n//   };\n//   const fetchComments = async () => {\n//     try {\n//       const response = await axios.get(`http://localhost:3000/articles/${post.pid}`, { withCredentials: true });\n//       const comments = response.data.articles[0].comment;\n    \n//       setComments(comments);\n//     } catch (error) {\n//       console.error('Error fetching comments:', error);\n//     }\n//   }\n//   const onComment = (pid) => {\n//       }\n//     useEffect(() => {\n//     fetchComments();\n//   }, [post.pid]);\n//   return (\n//     <div className=\"post-container\">\n//       {/* <div className=\"post-title\">{post.title}</div> */}\n//       <div className=\"post-author\">Author: {post.author}</div>\n//       <div className=\"post-timestamp\">Posted on: {formatDate(post.date)}</div>\n//       <div className=\"post-body\">{post.text}</div>\n//       <div className=\"post-image\">\n//         {post.image && <img src={post.image} alt=\"Post\"/>}\n//       </div>\n//       {showComments && (\n//         <div className=\"comments-section\">\n//           <h4>Comments</h4>\n//           <ul>\n//             {comments && comments.map((comment) => (\n//               <li key={comment.id}>{comment.author}: {comment.message}</li>\n//             ))}\n//           </ul>\n//         </div>\n//       )}\n//       <div className=\"post-buttons\">\n//         <button className=\"post-button\" onClick={() => onComment(post.pid)}>Leave a Comment</button>\n//         <button className=\"post-button\" onClick={() => onEditPost(post.pid)}>Edit Post</button>\n//         <button className=\"post-button\" onClick={() => onEditComment(post.pid)}>Edit My Comment</button>\n//         <button className=\"post-button\" onClick={() => setShowComments(!showComments)}>\n//           {showComments ? \"Hide Comments\" : \"Show Comments\"}\n//         </button>\n//       </div>\n\n//     </div>\n//   );\n// };\n\n// export default Posts;\n\n\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA"},"metadata":{},"sourceType":"module","externalDependencies":[]}